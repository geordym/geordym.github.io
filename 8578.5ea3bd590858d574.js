"use strict";(self.webpackChunkproject_portafolio=self.webpackChunkproject_portafolio||[]).push([[8578],{8578:(A,_,n)=>{n.r(_),n.d(_,{ImageDrawer:()=>E});var f=n(467),d=n(1033),u=n(2583),c=n(9175);class E{constructor(o){var e=this;this.loadImageShape=function(){var s=(0,f.A)(function*(i){if(!e._engine.loadImage)throw new Error(`${d.dI} image shape not initialized`);yield e._engine.loadImage({gif:i.gif,name:i.name,replaceColor:i.replaceColor??!1,src:i.src})});return function(i){return s.apply(this,arguments)}}(),this._engine=o}addImage(o){this._engine.images||(this._engine.images=[]),this._engine.images.push(o)}draw(o){const{context:e,radius:s,particle:i,opacity:r}=o,a=i.image,l=a?.element;if(a){if(e.globalAlpha=r,a.gif&&a.gifData)(0,c.drawGif)(o);else if(l){const g={x:-s,y:-s},m=2*s;e.drawImage(l,g.x,g.y,m,m/a.ratio)}e.globalAlpha=1}}getSidesCount(){return 12}init(o){var e=this;return(0,f.A)(function*(){const s=o.actualOptions;if(s.preload&&e._engine.loadImage)for(const i of s.preload)yield e._engine.loadImage(i)})()}loadShape(o){if("image"!==o.shape&&"images"!==o.shape)return;this._engine.images||(this._engine.images=[]);const e=o.shapeData;e&&(this._engine.images.find(i=>i.name===e.name||i.source===e.src)||this.loadImageShape(e).then(()=>{this.loadShape(o)}))}particleInit(o,e){if("image"!==e.shape&&"images"!==e.shape)return;this._engine.images||(this._engine.images=[]);const s=this._engine.images,i=e.shapeData;if(!i)return;const r=e.getFillColor(),a=s.find(t=>t.name===i.name||t.source===i.src);if(!a)return;const l=i.replaceColor??a.replaceColor;a.loading?setTimeout(()=>{this.particleInit(o,e)}):(0,f.A)(function*(){let t;t=a.svgData&&r?yield(0,u.replaceImageColor)(a,i,r,e):{color:r,data:a,element:a.element,gif:a.gif,gifData:a.gifData,gifLoopCount:a.gifLoopCount,loaded:!0,ratio:i.width&&i.height?i.width/i.height:a.ratio??1,replaceColor:l,source:i.src},t.ratio||(t.ratio=1);const h={image:t,fill:i.fill??e.shapeFill,close:i.close??e.shapeClose};e.image=h.image,e.shapeFill=h.fill,e.shapeClose=h.close})()}}}}]);